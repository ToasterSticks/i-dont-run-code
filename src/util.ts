import {
	APIApplicationCommandInteractionDataBasicOption,
	APIApplicationCommandInteractionDataOption,
	APIApplicationCommandInteractionDataSubcommandOption,
	APIInteractionResponse,
	APIModalSubmission,
	InteractionResponseType,
} from 'discord-api-types/v10';
export const mapFiles = <T>(context: __WebpackModuleApi.RequireContext) =>
	context.keys().map<T>((path) => context(path).command);

export const deferUpdate = (): APIInteractionResponse => ({
	type: InteractionResponseType.DeferredMessageUpdate,
});

export const getOption = <
	T extends
		| string
		| number
		| boolean
		| APIApplicationCommandInteractionDataBasicOption[]
		| APIApplicationCommandInteractionDataSubcommandOption[]
>(
	options: APIApplicationCommandInteractionDataOption[] | undefined,
	name: string
): T | undefined => {
	const option = options?.find((option) => option.name === name);

	// @ts-expect-error
	return option && ('value' in option ? option.value : option.options);
};

export const getModalValue = (data: APIModalSubmission, name: string) => {
	const row = data.components?.find(({ components }) => components[0].custom_id === name);

	return row?.components[0].value;
};

export const supportedLanguages = [
	'matl',
	'bash',
	'sh',
	'befunge93',
	'b93',
	'brachylog',
	'brainfuck',
	'bf',
	'cjam',
	'clojure',
	'clojure',
	'clj',
	'cobol',
	'cob',
	'coffeescript',
	'coffeescript',
	'coffee',
	'cow',
	'cow',
	'crystal',
	'crystal',
	'cr',
	'dart',
	'dash',
	'dash',
	'typescript',
	'deno',
	'deno-ts',
	'javascript',
	'deno-js',
	'basic.net',
	'basic',
	'visual-basic',
	'visual-basic.net',
	'vb',
	'vb.net',
	'vb-dotnet',
	'dotnet-vb',
	'basic-dotnet',
	'dotnet-basic',
	'fsharp.net',
	'fsharp',
	'fs',
	'f#',
	'fs.net',
	'f#.net',
	'fsharp-dotnet',
	'fs-dotnet',
	'f#-dotnet',
	'dotnet-fsharp',
	'dotnet-fs',
	'dotnet-fs',
	'csharp.net',
	'csharp',
	'c#',
	'cs',
	'c#.net',
	'cs.net',
	'c#-dotnet',
	'cs-dotnet',
	'csharp-dotnet',
	'dotnet-c#',
	'dotnet-cs',
	'dotnet-csharp',
	'fsi',
	'fsx',
	'fsharp-interactive',
	'f#-interactive',
	'dotnet-fsi',
	'fsi-dotnet',
	'fsi.net',
	'dragon',
	'elixir',
	'elixir',
	'exs',
	'emacs',
	'emacs',
	'el',
	'elisp',
	'emojicode',
	'emojic',
	'erlang',
	'erlang',
	'erl',
	'escript',
	'file',
	'executable',
	'elf',
	'binary',
	'forte',
	'forter',
	'forth',
	'gforth',
	'freebasic',
	'bas',
	'fbc',
	'basic',
	'qbasic',
	'quickbasic',
	'awk',
	'gawk',
	'c',
	'gcc',
	'c++',
	'cpp',
	'g++',
	'd',
	'gdc',
	'fortran',
	'fortran',
	'f90',
	'go',
	'go',
	'golang',
	'golfscript',
	'golfscript',
	'groovy',
	'groovy',
	'gvy',
	'haskell',
	'haskell',
	'hs',
	'husk',
	'iverilog',
	'verilog',
	'vvp',
	'japt',
	'japt',
	'java',
	'jelly',
	'julia',
	'jl',
	'kotlin',
	'kt',
	'lisp',
	'lisp',
	'cl',
	'sbcl',
	'commonlisp',
	'llvm_ir',
	'llvm',
	'llvm-ir',
	'll',
	'lolcode',
	'lol',
	'lci',
	'lua',
	'lua',
	'csharp',
	'mono',
	'mono-csharp',
	'mono-c#',
	'mono-cs',
	'c#',
	'cs',
	'basic',
	'vb',
	'mono-vb',
	'mono-basic',
	'visual-basic',
	'visual basic',
	'nasm',
	'asm',
	'nasm32',
	'nasm64',
	'asm64',
	'nim',
	'nim',
	'javascript',
	'node-javascript',
	'node-js',
	'javascript',
	'js',
	'ocaml',
	'ocaml',
	'ml',
	'octave',
	'matlab',
	'm',
	'osabie',
	'osabie',
	'05AB1E',
	'usable',
	'paradoc',
	'paradoc',
	'pascal',
	'pascal',
	'freepascal',
	'pp',
	'pas',
	'perl',
	'perl',
	'pl',
	'php',
	'php8',
	'html',
	'ponylang',
	'pony',
	'ponyc',
	'prolog',
	'prolog',
	'plg',
	'pure',
	'powershell',
	'ps',
	'pwsh',
	'ps1',
	'pyth',
	'pyth',
	'python2',
	'py2',
	'python2',
	'python',
	'py',
	'py3',
	'python3',
	'python3.10',
	'racket',
	'rkt',
	'raku',
	'raku',
	'rakudo',
	'perl6',
	'p6',
	'pl6',
	'retina',
	'ret',
	'rockstar',
	'rock',
	'rocky',
	'rscript',
	'r',
	'ruby',
	'ruby3',
	'rb',
	'rust',
	'rs',
	'scala',
	'sc',
	'smalltalk',
	'st',
	'sqlite3',
	'sqlite',
	'sql',
	'swift',
	'swift',
	'typescript',
	'ts',
	'node-ts',
	'tsc',
	'vlang',
	'v',
	'vyxal',
	'yeethon',
	'yeethon3',
	'zig',
	'zig',
];
