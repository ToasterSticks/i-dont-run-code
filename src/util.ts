import {
	InteractionResponseType,
	RouteBases,
	type APIApplicationCommandInteractionDataBasicOption,
	type APIApplicationCommandInteractionDataOption,
	type APIApplicationCommandInteractionDataSubcommandOption,
	type APIInteractionResponse,
	type APIModalSubmission,
} from 'discord-api-types/v10';

export const mapFiles = <T>(context: __WebpackModuleApi.RequireContext) =>
	context.keys().map<T>((path) => context(path).command);

export const request = (route: string, method: string, body: FormData | unknown) => {
	const requestOptions =
		body instanceof FormData
			? { method, body }
			: {
					method,
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify(body),
			  };

	return fetch(RouteBases.api + route, requestOptions);
};

export const deferUpdate = (): APIInteractionResponse => ({
	type: InteractionResponseType.DeferredMessageUpdate,
});

export const getOption = <
	T extends
		| string
		| number
		| boolean
		| APIApplicationCommandInteractionDataBasicOption[]
		| APIApplicationCommandInteractionDataSubcommandOption[]
>(
	options: APIApplicationCommandInteractionDataOption[] | undefined,
	name: string
): T | undefined => {
	const option = options?.find((option) => option.name === name);

	return option && (('value' in option ? option.value : option.options) as T);
};

export const getModalValue = (data: APIModalSubmission, name: string) => {
	const row = data.components?.find(({ components }) => components[0].custom_id === name);

	return row?.components[0].value;
};

export const languages: Record<string, string> = {
	matl: 'matl',
	bash: 'bash',
	sh: 'bash',
	befunge93: 'befunge93',
	b93: 'befunge93',
	brachylog: 'brachylog',
	brainfuck: 'brainfuck',
	bf: 'brainfuck',
	cjam: 'cjam',
	clojure: 'clojure',
	clj: 'clojure',
	cobol: 'cobol',
	cob: 'cobol',
	coffeescript: 'coffeescript',
	coffee: 'coffeescript',
	cow: 'cow',
	crystal: 'crystal',
	cr: 'crystal',
	dart: 'dart',
	dash: 'dash',
	typescript: 'typescript',
	deno: 'typescript',
	'deno-ts': 'typescript',
	javascript: 'javascript',
	'deno-js': 'javascript',
	'basic.net': 'basic.net',
	basic: 'basic',
	'visual-basic': 'basic',
	'visual-basic.net': 'basic.net',
	vb: 'basic',
	'vb.net': 'basic.net',
	'vb-dotnet': 'basic.net',
	'dotnet-vb': 'basic.net',
	'basic-dotnet': 'basic.net',
	'dotnet-basic': 'basic.net',
	'fsharp.net': 'fsharp.net',
	fsharp: 'fsharp.net',
	fs: 'fsharp.net',
	'f#': 'fsharp.net',
	'fs.net': 'fsharp.net',
	'f#.net': 'fsharp.net',
	'fsharp-dotnet': 'fsharp.net',
	'fs-dotnet': 'fsharp.net',
	'f#-dotnet': 'fsharp.net',
	'dotnet-fsharp': 'fsharp.net',
	'dotnet-fs': 'fsharp.net',
	'csharp.net': 'csharp.net',
	csharp: 'csharp',
	'c#': 'csharp',
	cs: 'csharp',
	'c#.net': 'csharp.net',
	'cs.net': 'csharp.net',
	'c#-dotnet': 'csharp.net',
	'cs-dotnet': 'csharp.net',
	'csharp-dotnet': 'csharp.net',
	'dotnet-c#': 'csharp.net',
	'dotnet-cs': 'csharp.net',
	'dotnet-csharp': 'csharp.net',
	fsi: 'fsi',
	fsx: 'fsi',
	'fsharp-interactive': 'fsi',
	'f#-interactive': 'fsi',
	'dotnet-fsi': 'fsi',
	'fsi-dotnet': 'fsi',
	'fsi.net': 'fsi',
	dragon: 'dragon',
	elixir: 'elixir',
	exs: 'elixir',
	emacs: 'emacs',
	el: 'emacs',
	elisp: 'emacs',
	emojicode: 'emojicode',
	emojic: 'emojicode',
	erlang: 'erlang',
	erl: 'erlang',
	escript: 'erlang',
	file: 'file',
	executable: 'file',
	elf: 'file',
	binary: 'file',
	forte: 'forte',
	forter: 'forte',
	forth: 'forth',
	gforth: 'forth',
	freebasic: 'freebasic',
	bas: 'freebasic',
	fbc: 'freebasic',
	qbasic: 'freebasic',
	quickbasic: 'freebasic',
	awk: 'awk',
	gawk: 'awk',
	c: 'c',
	gcc: 'c',
	'c++': 'c++',
	cpp: 'c++',
	'g++': 'c++',
	d: 'd',
	gdc: 'd',
	fortran: 'fortran',
	f90: 'fortran',
	go: 'go',
	golang: 'go',
	golfscript: 'golfscript',
	groovy: 'groovy',
	gvy: 'groovy',
	haskell: 'haskell',
	hs: 'haskell',
	husk: 'husk',
	iverilog: 'iverilog',
	verilog: 'iverilog',
	vvp: 'iverilog',
	japt: 'japt',
	java: 'java',
	jelly: 'jelly',
	julia: 'julia',
	jl: 'julia',
	kotlin: 'kotlin',
	kt: 'kotlin',
	lisp: 'lisp',
	cl: 'lisp',
	sbcl: 'lisp',
	commonlisp: 'lisp',
	llvm_ir: 'llvm_ir',
	llvm: 'llvm_ir',
	'llvm-ir': 'llvm_ir',
	ll: 'llvm_ir',
	lolcode: 'lolcode',
	lol: 'lolcode',
	lci: 'lolcode',
	lua: 'lua',
	mono: 'csharp',
	'mono-csharp': 'csharp',
	'mono-c#': 'csharp',
	'mono-cs': 'csharp',
	'mono-vb': 'basic',
	'mono-basic': 'basic',
	'visual basic': 'basic',
	nasm: 'nasm',
	asm: 'nasm',
	nasm32: 'nasm',
	nasm64: 'nasm64',
	asm64: 'nasm64',
	nim: 'nim',
	'node-javascript': 'javascript',
	'node-js': 'javascript',
	js: 'javascript',
	ocaml: 'ocaml',
	ml: 'ocaml',
	octave: 'octave',
	matlab: 'octave',
	m: 'octave',
	osabie: 'osabie',
	'05AB1E': 'osabie',
	usable: 'osabie',
	paradoc: 'paradoc',
	pascal: 'pascal',
	freepascal: 'pascal',
	pp: 'pascal',
	pas: 'pascal',
	perl: 'perl',
	pl: 'perl',
	php: 'php',
	php8: 'php',
	html: 'php',
	ponylang: 'ponylang',
	pony: 'ponylang',
	ponyc: 'ponylang',
	prolog: 'prolog',
	plg: 'prolog',
	pure: 'pure',
	powershell: 'powershell',
	ps: 'powershell',
	pwsh: 'powershell',
	ps1: 'powershell',
	pyth: 'pyth',
	python2: 'python2',
	py2: 'python2',
	python: 'python',
	py: 'python',
	py3: 'python',
	python3: 'python',
	'python3.10': 'python',
	racket: 'racket',
	rkt: 'racket',
	raku: 'raku',
	rakudo: 'raku',
	perl6: 'raku',
	p6: 'raku',
	pl6: 'raku',
	retina: 'retina',
	ret: 'retina',
	rockstar: 'rockstar',
	rock: 'rockstar',
	rocky: 'rockstar',
	rscript: 'rscript',
	r: 'rscript',
	ruby: 'ruby',
	ruby3: 'ruby',
	rb: 'ruby',
	rust: 'rust',
	rs: 'rust',
	scala: 'scala',
	sc: 'scala',
	smalltalk: 'smalltalk',
	st: 'smalltalk',
	sqlite3: 'sqlite3',
	sqlite: 'sqlite3',
	sql: 'sqlite3',
	swift: 'swift',
	ts: 'typescript',
	'node-ts': 'typescript',
	tsc: 'typescript',
	vlang: 'vlang',
	v: 'vlang',
	vyxal: 'vyxal',
	yeethon: 'yeethon',
	yeethon3: 'yeethon',
	zig: 'zig',
};

export const supportedMarkdown: Record<string, string> = {
	'1c': '1C',
	'4d': '4D',
	'sap-abap': 'ABAP',
	abap: 'ABAP',
	abnf: 'ABNF',
	accesslog: 'Access logs',
	ada: 'Ada',
	apex: 'Apex',
	arduino: 'Arduino',
	ino: 'Arduino',
	armasm: 'ARM assembler',
	arm: 'ARM assembler',
	avrasm: 'AVR assembler',
	actionscript: 'ActionScript',
	as: 'ActionScript',
	alan: 'Alan IF',
	i: 'Alan IF',
	ln: 'Alan',
	angelscript: 'AngelScript',
	asc: 'AngelScript',
	apache: 'Apache',
	apacheconf: 'Apache',
	applescript: 'AppleScript',
	osascript: 'AppleScript',
	arcade: 'Arcade',
	asciidoc: 'AsciiDoc',
	adoc: 'AsciiDoc',
	aspectj: 'AspectJ',
	autohotkey: 'AutoHotkey',
	autoit: 'AutoIt',
	awk: 'Awk',
	mawk: 'Awk',
	nawk: 'Awk',
	gawk: 'Awk',
	bash: 'Bash',
	sh: 'Bash',
	zsh: 'Bash',
	basic: 'Basic',
	bbcode: 'BBCode',
	blade: 'Blade',
	bnf: 'BNF',
	brainfuck: 'Brainfuck',
	bf: 'Brainfuck',
	csharp: 'C#',
	cs: 'C#',
	c: 'C',
	h: 'C',
	cpp: 'C++',
	hpp: 'C++',
	cc: 'C++',
	hh: 'C++',
	'c++': 'C++',
	'h++': 'C++',
	cxx: 'C++',
	hxx: 'C++',
	cal: 'C/AL',
	cos: 'Cache Object Script',
	cls: 'Cache Object Script',
	cmake: 'CMake',
	'cmake.in': 'CMake',
	cobol: 'COBOL',
	'standard-cobol': 'COBOL',
	coq: 'Coq',
	csp: 'CSP',
	css: 'CSS',
	capnproto: "Cap'n Proto",
	capnp: "Cap'n Proto",
	chaos: 'Chaos',
	kaos: 'Chaos',
	chapel: 'Chapel',
	chpl: 'Chapel',
	cisco: 'Cisco CLI',
	clojure: 'Clojure',
	clj: 'Clojure',
	coffeescript: 'CoffeeScript',
	coffee: 'CoffeeScript',
	cson: 'CoffeeScript',
	iced: 'CoffeeScript',
	cpc: 'CpcdosC+',
	crmsh: 'Crmsh',
	crm: 'Crmsh',
	pcmk: 'Crmsh',
	crystal: 'Crystal',
	cr: 'Crystal',
	curl: 'cURL',
	cypher: '',
	d: 'D',
	dafny: 'Dafny',
	dart: 'Dart',
	dpr: 'Delphi',
	dfm: 'Delphi',
	pas: 'Delphi',
	pascal: 'Delphi',
	diff: 'Diff',
	patch: 'Diff',
	django: 'Django',
	jinja: 'Django',
	dns: 'DNS Zone file',
	zone: 'DNS Zone file',
	bind: 'DNS Zone file',
	dockerfile: 'Dockerfile',
	docker: 'Dockerfile',
	dos: 'DOS',
	bat: 'DOS',
	cmd: 'DOS',
	dsconfig: 'dsconfig',
	dts: 'DTS',
	dust: 'Dust',
	dst: 'Dust',
	dylan: 'Dylan',
	ebnf: 'EBNF',
	elixir: 'Elixir',
	elm: 'Elm',
	erlang: 'Erlang',
	erl: 'Erlang',
	excel: 'Excel',
	xls: 'Excel',
	xlsx: 'Excel',
	extempore: 'Extempore',
	xtlang: 'Extempore',
	xtm: 'Extempore',
	fsharp: 'F#',
	fs: 'F#',
	fix: 'FIX',
	fortran: 'Fortran',
	f90: 'Fortran',
	f95: 'Fortran',
	gcode: 'G-Code',
	nc: 'G-Code',
	gams: 'Gams',
	gms: 'Gams',
	gauss: 'GAUSS',
	gss: 'GAUSS',
	godot: 'GDScript',
	gdscript: 'GDScript',
	gherkin: 'Gherkin',
	hbs: 'Handlebars',
	glimmer: 'Glimmer and EmberJS',
	'html.hbs': 'Handlebars',
	'html.handlebars': 'Handlebars',
	htmlbars: 'Glimmer and EmberJS',
	gn: 'GN for Ninja',
	gni: 'GN for Ninja',
	go: 'Go',
	golang: 'Go',
	gf: 'Grammatical Framework',
	golo: 'Golo',
	gololang: 'Golo',
	gradle: 'Gradle',
	graphql: 'GraphQL',
	groovy: 'Groovy',
	gsql: 'GSQL',
	xml: 'HTML, XML',
	html: 'HTML, XML',
	xhtml: 'HTML, XML',
	rss: 'HTML, XML',
	atom: 'HTML, XML',
	xjb: 'HTML, XML',
	xsd: 'HTML, XML',
	xsl: 'HTML, XML',
	plist: 'HTML, XML',
	svg: 'HTML, XML',
	http: 'HTTP',
	https: 'HTTP',
	haml: 'Haml',
	handlebars: 'Handlebars',
	haskell: 'Haskell',
	hs: 'Haskell',
	haxe: 'Haxe',
	hx: 'Haxe',
	hlsl: 'High-level shader language',
	hy: 'Hy',
	hylang: 'Hy',
	ini: 'Ini, TOML',
	toml: 'Ini, TOML',
	inform7: 'Inform7',
	i7: 'Inform7',
	irpf90: 'IRPF90',
	json: 'JSON',
	java: 'Java',
	jsp: 'Java',
	javascript: 'JavaScript',
	js: 'JavaScript',
	jsx: 'JavaScript',
	jolie: 'Jolie',
	iol: 'Jolie',
	ol: 'Jolie',
	julia: 'Julia',
	'julia-repl': 'Julia',
	kotlin: 'Kotlin',
	kt: 'Kotlin',
	tex: 'LaTeX',
	leaf: 'Leaf',
	lean: 'Lean',
	lasso: 'Lasso',
	ls: 'LiveScript',
	lassoscript: 'Lasso',
	less: 'Less',
	ldif: 'LDIF',
	lisp: 'Lisp',
	livecodeserver: 'LiveCode Server',
	livescript: 'LiveScript',
	lua: 'Lua',
	macaulay2: 'Macaulay2',
	makefile: 'Makefile',
	mk: 'Makefile',
	mak: 'Makefile',
	make: 'Makefile',
	markdown: 'Markdown',
	md: 'Markdown',
	mkdown: 'Markdown',
	mkd: 'Markdown',
	mathematica: 'Mathematica',
	mma: 'Mathematica',
	wl: 'Mathematica',
	matlab: 'Matlab',
	maxima: 'Maxima',
	mel: 'Maya Embedded Language',
	mercury: 'Mercury',
	mirc: 'mIRC Scripting Language',
	mrc: 'mIRC Scripting Language',
	mizar: 'Mizar',
	mkb: 'MKB',
	mlir: 'MLIR',
	mojolicious: 'Mojolicious',
	monkey: 'Monkey',
	moonscript: 'Moonscript',
	moon: 'Moonscript',
	n1ql: 'N1QL',
	nsis: 'NSIS',
	never: 'Never',
	nginx: 'Nginx',
	nginxconf: 'Nginx',
	nim: 'Nim',
	nimrod: 'Nim',
	nix: 'Nix',
	oak: 'Oak',
	ocl: 'Object Constraint Language',
	ocaml: 'OCaml',
	ml: 'SML',
	objectivec: 'Objective C',
	mm: 'Objective C',
	objc: 'Objective C',
	'obj-c': 'Objective C',
	'obj-c++': 'Objective C',
	'objective-c++': 'Objective C',
	glsl: 'OpenGL Shading Language',
	openscad: 'OpenSCAD',
	scad: 'OpenSCAD',
	ruleslanguage: 'Oracle Rules Language',
	oxygene: 'Oxygene',
	pf: 'PF',
	'pf.conf': 'PF',
	php: 'PHP',
	papyrus: 'Papyrus',
	psc: 'Papyrus',
	parser3: 'Parser3',
	perl: 'Perl',
	pl: 'Perl',
	pm: 'Perl',
	pine: 'Pine Script',
	pinescript: 'Pine Script',
	plaintext: 'Plaintext',
	txt: 'Plaintext',
	text: 'Plaintext',
	pony: 'Pony',
	pgsql: 'PostgreSQL & PL/pgSQL',
	postgres: 'PostgreSQL & PL/pgSQL',
	postgresql: 'PostgreSQL & PL/pgSQL',
	powershell: 'PowerShell',
	ps: 'PowerShell',
	ps1: 'PowerShell',
	processing: 'Processing',
	prolog: 'Prolog',
	properties: 'Properties',
	protobuf: 'Protocol Buffers',
	puppet: 'Puppet',
	pp: 'Puppet',
	python: 'Python',
	py: 'Python',
	gyp: 'Python',
	profile: 'Python profiler results',
	'python-repl': 'Python REPL',
	pycon: 'Python REPL',
	qsharp: 'Q#',
	k: 'Q',
	kdb: 'Q',
	qml: 'QML',
	r: 'R',
	cshtml: 'Razor CSHTML',
	razor: 'Razor CSHTML',
	'razor-cshtml': 'Razor CSHTML',
	reasonml: 'ReasonML',
	re: 'ReasonML',
	redbol: 'Rebol & Red',
	rebol: 'Rebol & Red',
	red: 'Rebol & Red',
	'red-system': 'Rebol & Red',
	rib: 'RenderMan RIB',
	rsl: 'RenderMan RSL',
	risc: 'RiScript',
	riscript: 'RiScript',
	graph: 'Roboconf',
	instances: 'Roboconf',
	robot: 'Robot Framework',
	rf: 'Robot Framework',
	'rpm-specfile': 'RPM spec files',
	rpm: 'RPM spec files',
	spec: 'RPM spec files',
	'rpm-spec': 'RPM spec files',
	specfile: 'RPM spec files',
	ruby: 'Ruby',
	rb: 'Ruby',
	gemspec: 'Ruby',
	podspec: 'Ruby',
	thor: 'Ruby',
	irb: 'Ruby',
	rust: 'Rust',
	rs: 'Rust',
	SAS: 'SAS',
	sas: 'SAS',
	scss: 'SCSS',
	sql: 'SQL',
	p21: 'STEP Part 21',
	step: 'STEP Part 21',
	stp: 'STEP Part 21',
	scala: 'Scala',
	scheme: 'Scheme',
	scilab: 'Scilab',
	sci: 'Scilab',
	shexc: 'Shape Expressions',
	shell: 'Shell',
	console: 'Shell',
	smali: 'Smali',
	smalltalk: 'Smalltalk',
	st: 'Smalltalk',
	sml: 'SML',
	solidity: 'Solidity',
	sol: 'Solidity',
	spl: 'Splunk SPL',
	stan: 'Stan',
	stanfuncs: 'Stan',
	stata: 'Stata',
	iecst: 'Structured Text',
	scl: 'Structured Text',
	stl: 'Structured Text',
	'structured-text': 'Structured Text',
	stylus: 'Stylus',
	styl: 'Stylus',
	subunit: 'SubUnit',
	supercollider: 'Supercollider',
	sc: 'Supercollider',
	svelte: 'Svelte',
	swift: 'Swift',
	tcl: 'Tcl',
	tk: 'Tcl',
	terraform: 'Terraform',
	tf: 'Terraform',
	hcl: 'Terraform',
	tap: 'Test Anything Protocol',
	thrift: 'Thrift',
	toit: 'Toit',
	tp: 'TP',
	tsql: 'Transact-SQL',
	twig: 'Twig',
	craftcms: 'Twig',
	typescript: 'TypeScript',
	ts: 'TypeScript',
	'unicorn-rails-log': 'Unicorn Rails log',
	vbnet: 'VB.Net',
	vb: 'VB.Net',
	vba: 'VBA',
	vbscript: 'VBScript',
	vbs: 'VBScript',
	vhdl: 'VHDL',
	vala: 'Vala',
	verilog: 'Verilog',
	v: 'Verilog',
	vim: 'Vim Script',
	xsharp: 'X#',
	xs: 'X#',
	prg: 'X#',
	axapta: 'X++',
	'x++': 'X++',
	x86asm: 'x86 Assembly',
	xl: 'XL',
	tao: 'XL',
	xquery: 'XQuery',
	xpath: 'XQuery',
	xq: 'XQuery',
	yml: 'YAML',
	yaml: 'YAML',
	zenscript: 'ZenScript',
	zs: 'ZenScript',
	zephir: 'Zephir',
	zep: 'Zephir',
};
